(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{TbC0:function(n,t,e){"use strict";e.r(t);var l=e("8Y7J"),i=function(){},o=e("pMnS"),r=e("LRne"),a=e("HDdC"),c=e("DH7j"),s=e("n6bG"),u=e("lJxs"),f=e("5+tZ"),p=e("vkgz"),h=e("pLZG"),d=e("1Ykd");function g(n,t,e,l){var i=window&&!!window.document&&window.document.documentElement,o=i&&t?window:e;if(n&&!(o=n&&i&&"string"==typeof n?function(n,t,l){return(l?window.document:e.nativeElement).querySelector(n)}(n,0,l):n))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return o}function b(n){return n&&!n.firstChange}var m={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},v={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},w=function(){function n(n){void 0===n&&(n=!0),this.vertical=n,this.propsMap=n?m:v}var t=n.prototype;return t.clientHeightKey=function(){return this.propsMap.clientHeight},t.offsetHeightKey=function(){return this.propsMap.offsetHeight},t.scrollHeightKey=function(){return this.propsMap.scrollHeight},t.pageYOffsetKey=function(){return this.propsMap.pageYOffset},t.offsetTopKey=function(){return this.propsMap.offsetTop},t.scrollTopKey=function(){return this.propsMap.scrollTop},t.topKey=function(){return this.propsMap.top},n}();function S(n){return["Window","global"].some(function(t){return Object.prototype.toString.call(n).includes(t)})}function y(n,t){return n?t.document.documentElement:null}function T(n,t){var e,l,i,o,r=(l=(e=t).container,i=e.isWindow,o=O(e.axis),P(l,i,o.offsetHeightKey,o.clientHeightKey));return t.isWindow?function(n,t,e){var l=e.axis,i=e.container,o=e.isWindow,r=O(l),a=r.offsetHeightKey,c=r.clientHeightKey,s=n+C(y(o,i),l,o),u=P(t.nativeElement,o,a,c);return{height:n,scrolled:s,totalToScroll:function(n,t,e){var l=t.topKey();if(n.getBoundingClientRect)return n.getBoundingClientRect()[l]+C(n,t,e)}(t.nativeElement,l,o)+u,isWindow:o}}(r,n,t):function(n,t,e){var l=e.axis,i=e.container;return{height:n,scrolled:i[l.scrollTopKey()],totalToScroll:i[l.scrollHeightKey()],isWindow:!1}}(r,0,t)}function O(n){return{offsetHeightKey:n.offsetHeightKey(),clientHeightKey:n.clientHeightKey()}}function P(n,t,e,l){if(isNaN(n[e])){var i=y(t,n);return i?i[l]:0}return n[e]}function C(n,t,e){var l=t.pageYOffsetKey(),i=t.scrollTopKey(),o=t.offsetTopKey();return isNaN(window[l])?y(e,n)[i]:n.ownerDocument?n.ownerDocument.defaultView[l]:n[o]}function D(n,t,e){var l,i;if(n.totalToScroll<=0)return!1;var o=n.isWindow?n.scrolled:n.height+n.scrolled;return e?(l=(n.totalToScroll-o)/n.totalToScroll,i=t.down/10):(l=n.scrolled/(n.scrolled+(n.totalToScroll-o)),i=t.up/10),l<=i}var M=function(){function n(n){var t=n.totalToScroll;this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}var t=n.prototype;return t.updateScrollPosition=function(n){return this.lastScrollPosition=n},t.updateTotalToScroll=function(n){this.lastTotalToScroll!==n&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=n)},t.updateScroll=function(n,t){this.updateScrollPosition(n),this.updateTotalToScroll(t)},t.updateTriggeredFlag=function(n,t){t?this.triggered.down=n:this.triggered.up=n},t.isTriggeredScroll=function(n,t){return t?this.triggered.down===n:this.triggered.up===n},n}(),z={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function H(n){var t=n.scrollDown,e=n.stats.scrolled;return{type:t?z.DOWN:z.UP,payload:{currentScrollPosition:e}}}var x=function(){function n(n,t){this.element=n,this.zone=t,this.scrolled=new l.m,this.scrolledUp=new l.m,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}var t=n.prototype;return t.ngAfterViewInit=function(){this.infiniteScrollDisabled||this.setup()},t.ngOnChanges=function(n){var t=n.infiniteScrollContainer,e=n.infiniteScrollDisabled,l=n.infiniteScrollDistance,i=b(t),o=b(e),r=b(l),a=!o&&!this.infiniteScrollDisabled||o&&!e.currentValue||r;(i||o||r)&&(this.destroyScroller(),a&&this.setup())},t.setup=function(){var n=this;"undefined"!=typeof window&&this.zone.runOutsideAngular(function(){var t,e,l,i,o,b,m,v,y,O,P,C;n.disposeScroller=(t={fromRoot:n.fromRoot,alwaysCallback:n.alwaysCallback,disable:n.infiniteScrollDisabled,downDistance:n.infiniteScrollDistance,element:n.element,horizontal:n.horizontal,scrollContainer:n.infiniteScrollContainer,scrollWindow:n.scrollWindow,throttle:n.infiniteScrollThrottle,upDistance:n.infiniteScrollUpDistance},b=t.scrollContainer,m=t.scrollWindow,v=t.element,y=t.fromRoot,O=function(n,t){return Object.assign({},n,{container:n.isWindow||t&&!t.nativeElement?t:t.nativeElement})}({axis:(e={axis:new w(!t.horizontal),windowElement:g(b,m,v,y)}).axis,isWindow:S(l=e.windowElement)},l),P=new M({totalToScroll:T(v,O)}),C={up:t.upDistance,down:t.downDistance},(i={container:O.container,throttle:t.throttle},o=function n(t,e,l,i){return Object(s.a)(l)&&(i=l,l=void 0),i?n(t,e,l).pipe(Object(u.a)(function(n){return Object(c.a)(n)?i.apply(void 0,n):i(n)})):new a.a(function(n){!function n(t,e,l,i,o){var r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(t)){var a=t;t.addEventListener(e,l,o),r=function(){return a.removeEventListener(e,l,o)}}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(t)){var c=t;t.on(e,l),r=function(){return c.off(e,l)}}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(t)){var s=t;t.addListener(e,l),r=function(){return s.removeListener(e,l)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,f=t.length;u<f;u++)n(t[u],e,l,i,o)}i.add(r)}(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,l)})}(i.container,"scroll"),i.throttle&&(o=o.pipe(Object(d.a)(i.throttle))),o).pipe(Object(f.a)(function(){return Object(r.a)(T(v,O))}),Object(u.a)(function(n){return function(n,t,e){var l=function(n,t,e){var l=function(n,t){return n<t.scrolled}(n,t);return{fire:D(t,e,l),scrollDown:l}}(n,t,e);return{scrollDown:l.scrollDown,fire:l.fire,stats:t}}(P.lastScrollPosition,n,C)}),Object(p.a)(function(n){var t=n.stats;return P.updateScroll(t.scrolled,t.totalToScroll)}),Object(h.a)(function(n){var e=n.fire,l=n.scrollDown,i=n.stats.totalToScroll;return function(n,t,e){return!(!n||!t)||!(e||!t)}(t.alwaysCallback,e,P.isTriggeredScroll(i,l))}),Object(p.a)(function(n){var t=n.scrollDown,e=n.stats.totalToScroll;P.updateTriggeredFlag(e,t)}),Object(u.a)(H))).subscribe(function(t){return n.zone.run(function(){return n.handleOnScroll(t)})})})},t.handleOnScroll=function(n){var t=n.type,e=n.payload;switch(t){case z.DOWN:return this.scrolled.emit(e);case z.UP:return this.scrolledUp.emit(e);default:return}},t.ngOnDestroy=function(){this.destroyScroller()},t.destroyScroller=function(){this.disposeScroller&&this.disposeScroller.unsubscribe()},n}(),E=function(){},K=e("401J"),W=e("OHZS"),j=e("LAwb"),k=e("SVse"),L=e("ATGC"),_=e("CduD"),N=e("nYR2"),A=function(){function n(n,t,e,l,i){this.apiService=n,this.activatedRoute=t,this.loadingService=e,this.modalService=l,this.message=i,this.isQuerying=!0,this.currentPage=1,this.searchParams={},this.animals=[]}var t=n.prototype;return t.ngOnInit=function(){var n=this;this.activatedRoute.queryParamMap.subscribe(function(t){n.currentPage=1,n.animals=[];var e={};t.keys.forEach(function(n){e[n]=t.get(n)}),n.searchParams=e,n.searchAnimals(n.currentPage,n.searchParams)})},t.scrolled=function(){this.currentPage+=1,this.searchAnimals(this.currentPage,this.searchParams)},t.searchAnimals=function(n,t){var e=this;this.isQuerying=!0,this.loadingService.show(),this.apiService.getAnimals(n,t).pipe(Object(N.a)(function(){e.loadingService.hide(),e.isQuerying=!1})).subscribe(function(n){var t;n.success?(t=e.animals).push.apply(t,n.result.map(function(n){return new _.a(n)})):e.message.alert(n.errorMessage)})},t.openImageModal=function(n){var t={};t.url=n;var e={};e.data=t,this.modalService.open(L.a,e)},n}(),I=e("Mg80"),J=e("iInd"),R=e("BNLn"),U=e("8/fu"),Y=e("2vqZ"),G=l.nb({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{min-height:300px;min-width:300px;margin:0 20px}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:300px;height:300px}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;font-size:25px;font-weight:lighter!important;text-align:center}"]],data:{}});function V(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,3,"div",[["infiniteScroll",""]],null,[[null,"scrolled"]],function(n,t,e){var l=!0;return"scrolled"===t&&(l=!1!==n.component.scrolled()&&l),l},null,null)),l.ob(1,4866048,null,0,x,[l.k,l.x],{infiniteScrollDistance:[0,"infiniteScrollDistance"]},{scrolled:"scrolled"}),(n()(),l.pb(2,0,null,null,1,"app-card-list",[],null,[[null,"clickPicture"]],function(n,t,e){var l=!0;return"clickPicture"===t&&(l=!1!==n.component.openImageModal(e)&&l),l},K.b,K.a)),l.ob(3,114688,null,0,W.a,[j.a],{animals:[0,"animals"]},{clickPicture:"clickPicture"})],function(n,t){var e=t.component;n(t,1,0,3),n(t,3,0,e.animals)},null)}function Q(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,5,"div",[["class","wrapper"]],null,null,null,null,null)),(n()(),l.pb(1,0,null,null,4,"div",[["class","message-box"]],null,null,null,null,null)),(n()(),l.pb(2,0,null,null,1,"div",[["class","img"]],null,null,null,null,null)),(n()(),l.pb(3,0,null,null,0,"img",[["alt",""],["src","./assets/images/animal-koala-001.png"],["srcset",""]],null,null,null,null,null)),(n()(),l.pb(4,0,null,null,1,"div",[["class","desc"]],null,null,null,null,null)),(n()(),l.Hb(-1,null,["\u5c1a\u7121\u76f8\u95dc\u8cc7\u8a0a"]))],null,null)}function X(n){return l.Jb(0,[(n()(),l.eb(16777216,null,null,1,null,V)),l.ob(1,16384,null,0,k.l,[l.M,l.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l.eb(0,[["tmpl",2]],null,0,null,Q))],function(n,t){var e=t.component;n(t,1,0,e.isQuerying||e.animals.length,l.Ab(t,2))},null)}var Z=l.lb("app-home",A,function(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,1,"app-home",[],null,null,null,X,G)),l.ob(1,114688,null,0,A,[I.a,J.a,R.a,U.a,Y.a],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),B=e("veSV"),q=e("EEJc"),F=e("S0sQ"),$=e("dZKG"),nn=function(){},tn=e("VLCt"),en=e("YN91"),ln=e("9Xtb"),on=e("iphE"),rn=e("cMTU"),an=e("8ODU"),cn=e("DWBs"),sn=e("OeaA"),un=e("PCNd");e.d(t,"HomeModuleNgFactory",function(){return fn});var fn=l.mb(i,[],function(n){return l.yb([l.zb(512,l.j,l.X,[[8,[o.a,Z,B.a,q.a]],[3,l.j],l.v]),l.zb(4608,k.n,k.m,[l.s,[2,k.A]]),l.zb(4608,j.a,j.a,[k.c,l.C]),l.zb(4608,U.a,U.a,[l.j,l.g]),l.zb(4608,F.a,F.a,[$.a]),l.zb(1073742336,k.b,k.b,[]),l.zb(1073742336,J.p,J.p,[[2,J.u],[2,J.m]]),l.zb(1073742336,nn,nn,[]),l.zb(1073742336,tn.b,tn.b,[]),l.zb(1073742336,en.a,en.a,[]),l.zb(1073742336,ln.a,ln.a,[]),l.zb(1073742336,on.a,on.a,[]),l.zb(1073742336,rn.a,rn.a,[]),l.zb(1073742336,an.a,an.a,[]),l.zb(1073742336,cn.a,cn.a,[]),l.zb(1073742336,sn.a,sn.a,[]),l.zb(1073742336,un.a,un.a,[]),l.zb(1073742336,E,E,[]),l.zb(1073742336,i,i,[]),l.zb(1024,J.k,function(){return[[{path:"",component:A}]]},[])])})}}]);