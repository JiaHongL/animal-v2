function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inheritsLoose(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{TbC0:function(t,n,e){"use strict";e.r(n);var i=e("8Y7J"),o=function(){},l=e("pMnS"),r=e("LRne"),s=e("HDdC"),a=e("DH7j"),c=e("n6bG"),u=e("lJxs"),f=e("5+tZ"),p=e("vkgz"),h=e("pLZG"),d=e("7o/Q"),g=e("D0XW"),b=function(){function t(t,n){this.period=t,this.scheduler=n}return t.prototype.call=function(t,n){return n.subscribe(new m(t,this.period,this.scheduler))},t}(),m=function(t){function n(n,e,i){var o;return(o=t.call(this,n)||this).period=e,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(v,e,{subscriber:_assertThisInitialized(o),period:e})),o}_inheritsLoose(n,t);var e=n.prototype;return e._next=function(t){this.lastValue=t,this.hasValue=!0},e.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},n}(d.a);function v(t){var n=t.subscriber,e=t.period;n.notifyNext(),this.schedule(t,e)}function w(t,n,e,i){var o=window&&!!window.document&&window.document.documentElement,l=o&&n?window:e;if(t&&!(l=t&&o&&"string"==typeof t?function(t,n,i){return(i?window.document:e.nativeElement).querySelector(t)}(t,0,i):t))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return l}function y(t){return t&&!t.firstChange}var S={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},T={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},O=function(){function t(t){void 0===t&&(t=!0),this.vertical=t,this.propsMap=t?S:T}var n=t.prototype;return n.clientHeightKey=function(){return this.propsMap.clientHeight},n.offsetHeightKey=function(){return this.propsMap.offsetHeight},n.scrollHeightKey=function(){return this.propsMap.scrollHeight},n.pageYOffsetKey=function(){return this.propsMap.pageYOffset},n.offsetTopKey=function(){return this.propsMap.offsetTop},n.scrollTopKey=function(){return this.propsMap.scrollTop},n.topKey=function(){return this.propsMap.top},t}();function P(t){return["Window","global"].some(function(n){return Object.prototype.toString.call(t).includes(n)})}function D(t,n){return t?n.document.documentElement:null}function C(t,n){var e,i,o,l,r=(i=(e=n).container,o=e.isWindow,l=M(e.axis),x(i,o,l.offsetHeightKey,l.clientHeightKey));return n.isWindow?function(t,n,e){var i=e.axis,o=e.container,l=e.isWindow,r=M(i),s=r.offsetHeightKey,a=r.clientHeightKey,c=t+z(D(l,o),i,l),u=x(n.nativeElement,l,s,a);return{height:t,scrolled:c,totalToScroll:function(t,n,e){var i=n.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+z(t,n,e)}(n.nativeElement,i,l)+u,isWindow:l}}(r,t,n):function(t,n,e){var i=e.axis,o=e.container;return{height:t,scrolled:o[i.scrollTopKey()],totalToScroll:o[i.scrollHeightKey()],isWindow:!1}}(r,0,n)}function M(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function x(t,n,e,i){if(isNaN(t[e])){var o=D(n,t);return o?o[i]:0}return t[e]}function z(t,n,e){var i=n.pageYOffsetKey(),o=n.scrollTopKey(),l=n.offsetTopKey();return isNaN(window[i])?D(e,t)[o]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[l]}function H(t,n,e){var i,o;if(t.totalToScroll<=0)return!1;var l=t.isWindow?t.scrolled:t.height+t.scrolled;return e?(i=(t.totalToScroll-l)/t.totalToScroll,o=n.down/10):(i=t.scrolled/(t.scrolled+(t.totalToScroll-l)),o=n.up/10),i<=o}var E=function(){function t(t){var n=t.totalToScroll;this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=n}var n=t.prototype;return n.updateScrollPosition=function(t){return this.lastScrollPosition=t},n.updateTotalToScroll=function(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)},n.updateScroll=function(t,n){this.updateScrollPosition(t),this.updateTotalToScroll(n)},n.updateTriggeredFlag=function(t,n){n?this.triggered.down=t:this.triggered.up=t},n.isTriggeredScroll=function(t,n){return n?this.triggered.down===t:this.triggered.up===t},t}(),_={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function K(t){var n=t.scrollDown,e=t.stats.scrolled;return{type:n?_.DOWN:_.UP,payload:{currentScrollPosition:e}}}var W=function(){function t(t,n){this.element=t,this.zone=n,this.scrolled=new i.m,this.scrolledUp=new i.m,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}var n=t.prototype;return n.ngAfterViewInit=function(){this.infiniteScrollDisabled||this.setup()},n.ngOnChanges=function(t){var n=t.infiniteScrollContainer,e=t.infiniteScrollDisabled,i=t.infiniteScrollDistance,o=y(n),l=y(e),r=y(i),s=!l&&!this.infiniteScrollDisabled||l&&!e.currentValue||r;(o||l||r)&&(this.destroyScroller(),s&&this.setup())},n.setup=function(){var t=this;"undefined"!=typeof window&&this.zone.runOutsideAngular(function(){var n,e,i,o,l,d,m,v,y,S,T,D,M,x;t.disposeScroller=(n={fromRoot:t.fromRoot,alwaysCallback:t.alwaysCallback,disable:t.infiniteScrollDisabled,downDistance:t.infiniteScrollDistance,element:t.element,horizontal:t.horizontal,scrollContainer:t.infiniteScrollContainer,scrollWindow:t.scrollWindow,throttle:t.infiniteScrollThrottle,upDistance:t.infiniteScrollUpDistance},v=n.scrollContainer,y=n.scrollWindow,S=n.element,T=n.fromRoot,D=function(t,n){return Object.assign({},t,{container:t.isWindow||n&&!n.nativeElement?n:n.nativeElement})}({axis:(e={axis:new O(!n.horizontal),windowElement:w(v,y,S,T)}).axis,isWindow:P(i=e.windowElement)},i),M=new E({totalToScroll:C(S,D)}),x={up:n.upDistance,down:n.downDistance},(o={container:D.container,throttle:n.throttle},m=function t(n,e,i,o){return Object(c.a)(i)&&(o=i,i=void 0),o?t(n,e,i).pipe(Object(u.a)(function(t){return Object(a.a)(t)?o.apply(void 0,t):o(t)})):new s.a(function(t){!function t(n,e,i,o,l){var r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(n)){var s=n;n.addEventListener(e,i,l),r=function(){return s.removeEventListener(e,i,l)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(n)){var a=n;n.on(e,i),r=function(){return a.off(e,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(n)){var c=n;n.addListener(e,i),r=function(){return c.removeListener(e,i)}}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(var u=0,f=n.length;u<f;u++)t(n[u],e,i,o,l)}o.add(r)}(n,e,function(n){t.next(arguments.length>1?Array.prototype.slice.call(arguments):n)},t,i)})}(o.container,"scroll"),o.throttle&&(m=m.pipe((l=o.throttle,void 0===d&&(d=g.a),function(t){return t.lift(new b(l,d))}))),m).pipe(Object(f.a)(function(){return Object(r.a)(C(S,D))}),Object(u.a)(function(t){return function(t,n,e){var i=function(t,n,e){var i=function(t,n){return t<n.scrolled}(t,n);return{fire:H(n,e,i),scrollDown:i}}(t,n,e);return{scrollDown:i.scrollDown,fire:i.fire,stats:n}}(M.lastScrollPosition,t,x)}),Object(p.a)(function(t){var n=t.stats;return M.updateScroll(n.scrolled,n.totalToScroll)}),Object(h.a)(function(t){var e=t.fire,i=t.scrollDown,o=t.stats.totalToScroll;return function(t,n,e){return!(!t||!n)||!(e||!n)}(n.alwaysCallback,e,M.isTriggeredScroll(o,i))}),Object(p.a)(function(t){var n=t.scrollDown,e=t.stats.totalToScroll;M.updateTriggeredFlag(e,n)}),Object(u.a)(K))).subscribe(function(n){return t.zone.run(function(){return t.handleOnScroll(n)})})})},n.handleOnScroll=function(t){var n=t.type,e=t.payload;switch(n){case _.DOWN:return this.scrolled.emit(e);case _.UP:return this.scrolledUp.emit(e);default:return}},n.ngOnDestroy=function(){this.destroyScroller()},n.destroyScroller=function(){this.disposeScroller&&this.disposeScroller.unsubscribe()},t}(),j=function(){},k=e("401J"),N=e("OHZS"),L=e("SVse"),I=e("ATGC"),A=e("CduD"),J=e("nYR2"),R=function(){function t(t,n,e,i,o){this.apiService=t,this.activatedRoute=n,this.loadingService=e,this.modalService=i,this.message=o,this.isQuerying=!0,this.currentPage=1,this.searchParams={},this.animals=[]}var n=t.prototype;return n.ngOnInit=function(){var t=this;this.activatedRoute.queryParamMap.subscribe(function(n){t.currentPage=1,t.animals=[];var e={};n.keys.forEach(function(t){e[t]=n.get(t)}),t.searchParams=e,t.searchAnimals(t.currentPage,t.searchParams)})},n.scrolled=function(){this.currentPage+=1,this.searchAnimals(this.currentPage,this.searchParams)},n.searchAnimals=function(t,n){var e=this;this.isQuerying=!0,this.loadingService.show(),this.apiService.getAnimals(t,n).pipe(Object(J.a)(function(){e.loadingService.hide(),e.isQuerying=!1})).subscribe(function(t){var n;t.success?(n=e.animals).push.apply(n,t.result.map(function(t){return new A.a(t)})):e.message.alert(t.errorMessage)})},n.openImageModal=function(t){var n={};n.url=t;var e={};e.data=n,this.modalService.open(I.a,e)},t}(),V=e("Mg80"),U=e("iInd"),Y=e("BNLn"),G=e("8/fu"),Q=e("2vqZ"),X=i.nb({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{min-height:300px;min-width:300px;margin:0 20px}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:300px;height:300px}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;font-size:25px;font-weight:lighter!important;text-align:center}"]],data:{}});function Z(t){return i.Jb(0,[(t()(),i.pb(0,0,null,null,3,"div",[["infiniteScroll",""]],null,[[null,"scrolled"]],function(t,n,e){var i=!0;return"scrolled"===n&&(i=!1!==t.component.scrolled()&&i),i},null,null)),i.ob(1,4866048,null,0,W,[i.k,i.x],{infiniteScrollDistance:[0,"infiniteScrollDistance"]},{scrolled:"scrolled"}),(t()(),i.pb(2,0,null,null,1,"app-card-list",[],null,[[null,"clickPicture"]],function(t,n,e){var i=!0;return"clickPicture"===n&&(i=!1!==t.component.openImageModal(e)&&i),i},k.b,k.a)),i.ob(3,114688,null,0,N.a,[],{animals:[0,"animals"]},{clickPicture:"clickPicture"})],function(t,n){var e=n.component;t(n,1,0,3),t(n,3,0,e.animals)},null)}function B(t){return i.Jb(0,[(t()(),i.pb(0,0,null,null,5,"div",[["class","wrapper"]],null,null,null,null,null)),(t()(),i.pb(1,0,null,null,4,"div",[["class","message-box"]],null,null,null,null,null)),(t()(),i.pb(2,0,null,null,1,"div",[["class","img"]],null,null,null,null,null)),(t()(),i.pb(3,0,null,null,0,"img",[["alt",""],["src","./assets/images/animal-koala-001.png"],["srcset",""]],null,null,null,null,null)),(t()(),i.pb(4,0,null,null,1,"div",[["class","desc"]],null,null,null,null,null)),(t()(),i.Hb(-1,null,["\u5c1a\u7121\u76f8\u95dc\u8cc7\u8a0a"]))],null,null)}function q(t){return i.Jb(0,[(t()(),i.eb(16777216,null,null,1,null,Z)),i.ob(1,16384,null,0,L.l,[i.M,i.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),i.eb(0,[["tmpl",2]],null,0,null,B))],function(t,n){var e=n.component;t(n,1,0,e.isQuerying||e.animals.length,i.Ab(n,2))},null)}var F=i.lb("app-home",R,function(t){return i.Jb(0,[(t()(),i.pb(0,0,null,null,1,"app-home",[],null,null,null,q,X)),i.ob(1,114688,null,0,R,[V.a,U.a,Y.a,G.a,Q.a],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),$=e("veSV"),tt=e("EEJc"),nt=e("S0sQ"),et=e("dZKG"),it=function(){},ot=e("YN91"),lt=e("9Xtb"),rt=e("iphE"),st=e("cMTU"),at=e("8ODU"),ct=e("DWBs"),ut=e("OeaA"),ft=e("PCNd");e.d(n,"HomeModuleNgFactory",function(){return pt});var pt=i.mb(o,[],function(t){return i.yb([i.zb(512,i.j,i.X,[[8,[l.a,F,$.a,tt.a]],[3,i.j],i.v]),i.zb(4608,L.n,L.m,[i.s,[2,L.A]]),i.zb(4608,G.a,G.a,[i.j,i.g]),i.zb(4608,nt.a,nt.a,[et.a]),i.zb(1073742336,L.b,L.b,[]),i.zb(1073742336,U.p,U.p,[[2,U.u],[2,U.m]]),i.zb(1073742336,it,it,[]),i.zb(1073742336,ot.a,ot.a,[]),i.zb(1073742336,lt.a,lt.a,[]),i.zb(1073742336,rt.a,rt.a,[]),i.zb(1073742336,st.a,st.a,[]),i.zb(1073742336,at.a,at.a,[]),i.zb(1073742336,ct.a,ct.a,[]),i.zb(1073742336,ut.a,ut.a,[]),i.zb(1073742336,ft.a,ft.a,[]),i.zb(1073742336,j,j,[]),i.zb(1073742336,o,o,[]),i.zb(1024,U.k,function(){return[[{path:"",component:R}]]},[])])})}}]);